package com.oxleya.malwareconnector.processor;

import com.auxilii.msgparser.attachment.FileAttachment;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;


@Component
public class EmailAttachmentProcessor extends BaseAttachmentProcessor {

    private static final Logger LOGGER = LoggerFactory.getLogger(EmailAttachmentProcessor.class);

    /**
     * Primarily pulled out into a separate service so that we can use the async functionality,
     * in order to break the transactional boundary of the original email file that was processed.
     * @param attachment
     * @param savedEmailId
     */
    public void pushAttachmentForProcessing(FileAttachment attachment, Long savedEmailId) {
        this.createFileForProcessing(attachment.getLongFilename(), savedEmailId, attachment.getData());
    }
}
